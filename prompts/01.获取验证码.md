请帮我设计一个获取验证码的逻辑，要求如下：
- 验证手机号是否合法，不合法则不发。
- ip安全过滤，同ip60秒内只能发送一次验证码。
- 使用 SQLModel 设计一张表 SMSCodeRecord. 记录发送验证码的手机号、时间、过期时间、验证码、 ip地址等。在回答时 单独说一下表的设计思路。如：表中过期的记录是否需要删除等想法。
- 获取验证码时，需要先判断该手机号是否距离上次发送超过 60s，如果超过 60s，则可以发送验证码，否则返回 “发送过于频繁，请于 多少s 后再试”。
- 发送验证码。